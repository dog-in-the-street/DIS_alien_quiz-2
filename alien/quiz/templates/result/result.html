{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/result.css' %}" />
</head>
<body>
    <div class="loading-screen">
        
        <div class="spinner-original"></div>
        <div>로딩중입니다..!</div>
    </div>
    <div class="result-page">
    {% if total_score < 20 %}
        {{total_score}}
<div class="rock">돌!</div>
        
        
    {% elif total_score < 40 %}
        {{total_score}}
        <div class="raccoon">
            <img src="">
            <h1>외계인이 키우던 솜사탕 먹는 라쿤!<h2>
            <!-- 여기 bar 넣기 <div>progress bar</div> -->
        
        </div>
    {% elif total_score < 60 %}
        {{total_score}}
        <div class="mars">화성인!</div>
    {% elif total_score < 80 %}
        {{total_score}}
        <div class="babyalien">응애 나 애기 외계인!</div>
    {% elif total_score < 100 %}
        {{total_score}}
        <div class="boss">외계인협회장!</div>
    {% elif total_score < 1500 %}
        <div class="wizard">대마법사!</div>
    {% elif total_score < 500000%}
        <div class="dis">저잣거리를 촐랑촐랑 떠돌아다니는 개</div>
    {% endif %}
    {{ total_score }}

    <!-- progressbar -->
    <div class="conatiner">
        <div class="prog">
            <div class="progs" id="progressing"></div>
        </div>
        <button onClick="moveBtn()">외계지수 확인하기</button>
        <br>
    </div>

    <script>

        
            function moveBtn(){
                var ele=document.getElementById('progressing');
                var width = 5;
                var id =setInterval(frame, 50);
                function frame(){
                    if(width>=15){
                        clearInterval(id);
                    }else{
                        width ++;
                        ele.style.width=width+"%";
                        ele.innerHTML=width+"%";
                    }
                }
            }
    </script>

    <button><a href="{% url 'index' %}">다시하기!</a></button>
    <!-- url 복사 버튼. 현재 url를 복사되게 만들어주기. -->
    <input type="text" id = "ShareUrl">
    <span class="url-btn">
        <button OnClick="javascript:CopyUrlToClipboard()">URL 복사</button>
        <!-- <img src="" alt="" OnClick="javascript:CopyUrlToClipboard()"> -->
    </span>


    <!-- 카카오톡 공유 버튼 -->
    <div id="kakaotalk-share">
        <a href="javascript:sendLinkKakao()" id="kakao-link-btn" title="카카오톡으로 공유">
            <button>카카오톡 공유하기</button>
            <!-- <img src="" alt=""> -->
        </a>
    </div>

    <!-- 만든사람들 -->
    <div id="DIS">
        <a href="{% url 'DIS' %}" id="DIS" title="만든사람들">
            <button>만든사람들</button>
    </div>
    


    

    <script>
        // 클립보드로 url 복사
        function CopyUrlToClipboard() {
            var obShareUrl = document.getElementById("ShareUrl");
            obShareUrl.value = window.document.location.href;  // 현재 URL을 복사하는 경우.
            // obShareUrl.value = 'http://www.abc.com/';  // 특정 url을 복사하는 경우.
            

            obShareUrl.select();  // 해당 값이 선택되도록 select() 
            document.execCommand("copy"); // 클립보드에 복사
            obShareUrl.blur(); 
                
            alert("URL이 클립보드에 복사되었습니다"); // 버튼 눌렀을 때 뜨는 alert 메시지.
        }
        var obShareUrl = document.getElementById("ShareUrl");
        obShareUrl.value = window.document.location.href;  // 현재 URL을 복사하는 경우.
        // obShareUrl.value = 'http://www.abc.com/'; // 특정 url을 복사해야 하는 경우.

        // 카카오톡 공유
        Kakao.init('58772ed23236c0a883c9ca150f9b5194'); // 카카오 디벨로퍼에서 앱 등록.
        function sendLinkKakao(){
            Kakao.Link.sendDefault({
            objectType: 'feed',
            content: {
                // 카톡 메시지에서 제목
                title: '멋있는 박재형', 
                // 설명
                description: 'DIS 최고의 백엔드', 
                // 카톡 메시지에 뜨는 이미지. (결과 이미지)
                imageUrl: 'https://pbs.twimg.com/media/ExUElF7VcAMx7jx?format=jpg&name=medium', 
                // mibileWebUrl, webUrl, buttons에 있는 link 모두 동일한 url 넣기.
                link: {
                mobileWebUrl: '{{ request.build_absolute_uri }}', // 현재 url 
                webUrl: '{{ request.build_absolute_uri }}'
                }
                // 특정 url로 연결되도록 하려면 mobileWebUrl: 'url', 과 같이 url을 직접 입력해주면 됨.
            },
            buttons: [       
                {
                    title: '링크 열기',
                    link: {
                        mobileWebUrl: '{{ request.build_absolute_uri }}',
                        webUrl: '{{ request.build_absolute_uri }}'
                    }
                }
            ]
            }); 
        }


    </script>
    <script src="{% static 'js/loading.js' %}"></script>
    <script src="{% static 'js/result.js' %}"></script>
</body>
</html>