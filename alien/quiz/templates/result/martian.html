{% extends 'result.html' %}
{% load static %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/martian.css'%}" />
{% endblock head %}

{% block content%}
<div class="result-container">
    <div class="result-title">
        화성인
    </div>
    <div class="result-image"> 
        <img src="../../static/image/화성인.png"/>
    </div>
  <!-- progressbar -->
<div class="conatiner">
    <div class="prog">
        <div class="progs" id="progressing"></div>
    </div>
    <button onClick="moveBtn()" class="progress-btn">외계지수 확인하기</button>
    <br>
</div>

<script>

    
        function moveBtn(){
            var ele=document.getElementById('progressing');
            var width = 5;
            var id =setInterval(frame, 50);
            function frame(){
                if(width>=50){
                    clearInterval(id);
                }else{
                    width ++;
                    ele.style.width=width+"%";
                    ele.innerHTML=width+"%";
                }
            }
        }
</script>  
    
    <div class="result-text">
        축하합니다! 
        당신은 외계인과 인간 그 사이 어딘가! 
        묘하게 인간스러우면서도 어딘가 외계인스럽군요
    </div>
    <div class="result-contents">
        평소엔 평범한 인간이지만 가끔 어딘가 
        남들과 다른 모습을 보이죠. 
        가끔 누군가가 당신을 특이하다고 여길 수도 있어요. 
        마치 사차원 같은 존재랄까요! <br />
        
        당신은 자신만의 매력을 가진 아주 특별한 화성인입니다. 
        남들과 무언가 다른 특별함을 
        자신만의 장점으로 여기길 바랍니다! 
        [저또개]는 당신을 응원합니다.<br />
        
        혹시 예측이 틀렸나요? 틀렸다면 죄송합니다. 
        하지만 한 개 정도는 맞는 게 있을 거예요.. (총총)
    </div>
</div>
{% endblock content%}
{% block script %}
<script>
    // 클립보드로 url 복사
    function CopyUrlToClipboard() {
        var obShareUrl = document.getElementById("ShareUrl");
        obShareUrl.value = window.document.location.href;  // 현재 URL을 복사하는 경우.
        // obShareUrl.value = 'http://www.abc.com/';  // 특정 url을 복사하는 경우.
        

        obShareUrl.select();  // 해당 값이 선택되도록 select() 
        document.execCommand("copy"); // 클립보드에 복사
        obShareUrl.blur(); 
            
        alert("URL이 클립보드에 복사되었습니다"); // 버튼 눌렀을 때 뜨는 alert 메시지.
    }
    var obShareUrl = document.getElementById("ShareUrl");
    obShareUrl.value = window.document.location.href;  // 현재 URL을 복사하는 경우.
    // obShareUrl.value = 'http://www.abc.com/'; // 특정 url을 복사해야 하는 경우.

    // 카카오톡 공유
    Kakao.init('58772ed23236c0a883c9ca150f9b5194'); // 카카오 디벨로퍼에서 앱 등록.
    function sendLinkKakao(){
        Kakao.Link.sendDefault({
        objectType: 'feed',
        content: {
            // 카톡 메시지에서 제목
            title: '화성인', 
            // 설명
            description: '축하합니다! 당신은 외계인과 인간 그 사이 어딘가! 묘하게 인간스러우면서도 어딘가 외계인스럽군요.', 
            // 카톡 메시지에 뜨는 이미지. (결과 이미지)
            imageUrl: 'https://media1.giphy.com/media/u2IX845YB64W4/giphy.gif?cid=790b7611d7dbc7376b6e4af3b2a5479c70dd7516c863a5d4&rid=giphy.gif&ct=g', 
            // mibileWebUrl, webUrl, buttons에 있는 link 모두 동일한 url 넣기.
            link: {
            mobileWebUrl: '{{ request.build_absolute_uri }}', // 현재 url 
            webUrl: '{{ request.build_absolute_uri }}'
            }
            // 특정 url로 연결되도록 하려면 mobileWebUrl: 'url', 과 같이 url을 직접 입력해주면 됨.
        },
        buttons: [       
            {
                title: '링크 열기',
                link: {
                    mobileWebUrl: '{{ request.build_absolute_uri }}',
                    webUrl: '{{ request.build_absolute_uri }}'
                }
            }
        ]
        }); 
    }


</script>

{% endblock script %}